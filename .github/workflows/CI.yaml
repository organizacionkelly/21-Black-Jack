on:
  push:
    branches:
      - main
#nombre del workflow
name: deploy
#
jobs: 
#un jobs llamado deploy
  deploy:
    name: deploy to cluster
    #runs-on endonde va correr ,es como una maquina virtual
    runs-on: ubuntu-latest
    #pasos,aqui vamos a pasar o indicar las aciones
    steps:
    #paso 1 action:nombre de la organizacion/checkout:nombre de la accion @ master:version
      - uses: actions/checkout@master
      - name: Login to Docker Hub
        uses: docker/login-action@v2
        with:
          username: ${{ secrets.USER_DOCKER }}
          password: ${{  secrets.PASSWORD_DOCKER }}
      - name: build and push to docker
        uses: docker/build-push-action@v2
        with:
          push: true
          tags: kelly1311/new-repo:app-java